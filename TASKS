CLIENT 
[x] hash number x times and keep in list[x]
[] send udp packet (3 times in case it gets lost)
    [] 99th hash (= ticket)
    [] ip
    [] (port opening duration)
    [] (signature)
[] try to tcp connect to port z 
    [] succes: yay
    [] failure: (5 sec without connection) resend udp packets

SERVER
[x] hash number 100 times and keep last hash
[] listen on port y for udp from client
[] when receiving packet:
    [] hash ticket & compare with stored hash
    [] if same: open port z for client ip (& close after duration)
    [] else: nothing